{% extends 'base.html.twig' %}

{% block title %}Hello CatalogueController!{% endblock %}

{% block body %}
<section>
    <div class="columns">
        <div class="column is-1"></div>
        <div class="column is-10">
            <div class="columns is-multiline">


                {% for ligne in panier %}

                <div class="column is-half">

                    <div class="columns is-multiline">
                        <div class="column is-half">
                            <figure class="image is-240x240 is-square">
                                <img src="/images/produit/{{ ligne.imageNom }}" />
                            </figure>
                        </div>

                        <div class="column is-half">
                            <div class="content">
                                <b>
                                    <h2>{{ ligne.nom}} </h2>
                                </b>
                            </div>
                            <div class="content">
                                {{ ligne.accroche }} <br><br>
                            </div>
                            <div class="content">

                                {% if ligne.quantite > 1 %}
                                <a href="/panier/reduire/{{ligne.id}}">
                                    <button class="button is-link">--</button>
                                </a>
                                {% else %}
                                <button class="button is-link" disabled>--</button>
                                {% endif %}
                                <b>{{ ligne.quantite }}</b>
                                <a href="/panier/ajouter/{{ligne.id}}">
                                    <button class="button is-link">++</button>
                                </a> <br>
                            </div>

                            <div>
                                <a href="/panier/supprimer/{{ligne.id}}">
                                    <button class="button is-link">supprimer</button>
                                </a>
                            </div>
                            <br><br>
                            <div>
                                <b>
                                    <b>Prix : </b>
                                    {{ ligne.prixTotal }} <br><br>
                                </b>
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
            <div class="content">
                <h3>
                    Prix total de la commande :
                    {{ panier[0]["prixCommande"]}}
                </h3>
            </div>
            <div>
                <a href="{{ path('paiement_moyen') }}">
                    <button class="button is-link">Valider les informations</button>
                </a>
                <a href="{{ path('compte_modifier') }}">
                    <button class="button is-link">Modifier les informations</button>
                </a>
            </div>
        </div>
    </div>




    <div>
        {% for key,value in adresses %}

        {% if key == 'domicile' %}
        <div class="content">
            <h3>adresse du domicile</h3>
        </div>
        <div class="field is-horizontal">
        </div>
        <div class="field-body">
            <!-- form label -->
            <div class="field">
                <label class="label" for="adresse">adresse</label>
                <div class="control is-expanded">
                    <input class="input" type="text" name="adresse" value="{{ value.adresse.adrAdresse }}"
                        disabled>
                </div>
            </div>
            <div class="field">
                <label class="label" for="postal">code postal</label>
                <div class="control is-expanded">
                    <input class="input" type="text" name="postal" value="{{ value.adresse.adrPostal }}"
                        disabled>
                </div>
            </div>
        </div>
        <div class="field is-horizontal">
        </div>
        <div class="field-body">
            <!-- form label -->
            <div class="field">
                <label class="label" for="ville">ville</label>
                <div class="control is-expanded">
                    <input class="input" type="text" name="ville" value="{{ value.adresse.adrVille }}" disabled>
                </div>
            </div>
            <div class="field">
                <label class="label" for="pays">pays</label>
                <div class="control is-expanded">
                    <input class="input" type="text" name="pays" value="{{ value.adresse.adrPays }}" disabled>
                </div>
            </div>
        </div>
        <br>
        {% endif %}
        {% if key == 'livraison' %}
        <div class="content">
            <h3>adresse de livraison</h3>
        </div>
        <div class="field is-horizontal">
        </div>
        <div class="field-body">
            <!-- form label -->
            <div class="field">
                <label class="label" for="adresse">adresse</label>
                <div class="control is-expanded">
                    <input class="input" type="text" name="adresse" value="{{ value.adresse.adrAdresse }}"
                        disabled>
                </div>
            </div>
            <div class="field">
                <label class="label" for="postal">code postal</label>
                <div class="control is-expanded">
                    <input class="input" type="text" name="postal" value="{{ value.adresse.adrPostal }}"
                        disabled>
                </div>
            </div>
        </div>
        <div class="field is-horizontal">
        </div>
        <div class="field-body">
            <!-- form label -->
            <div class="field">
                <label class="label" for="ville">ville</label>
                <div class="control is-expanded">
                    <input class="input" type="text" name="ville" value="{{ value.adresse.adrVille }}" disabled>
                </div>
            </div>
            <div class="field">
                <label class="label" for="pays">pays</label>
                <div class="control is-expanded">
                    <input class="input" type="text" name="pays" value="{{ value.adresse.adrPays }}" disabled>
                </div>
            </div>
        </div>
        <br>
        {% endif %}
        {% if key == 'facturation' %}
        <div class="content">
            <h3>adresse de facturation</h3>
        </div>
        <div class="field is-horizontal">
        </div>
        <div class="field-body">
            <!-- form label -->
            <div class="field">
                <label class="label" for="adresse">adresse</label>
                <div class="control is-expanded">
                    <input class="input" type="text" name="adresse" value="{{ value.adresse.adrAdresse }}"
                        disabled>
                </div>
            </div>
            <div class="field">
                <label class="label" for="postal">code postal</label>
                <div class="control is-expanded">
                    <input class="input" type="text" name="postal" value="{{ value.adresse.adrPostal }}"
                        disabled>
                </div>
            </div>
        </div>
        <div class="field is-horizontal">
        </div>
        <div class="field-body">
            <!-- form label -->
            <div class="field">
                <label class="label" for="ville">ville</label>
                <div class="control is-expanded">
                    <input class="input" type="text" name="ville" value="{{ value.adresse.adrVille }}" disabled>
                </div>
            </div>
            <div class="field">
                <label class="label" for="pays">pays</label>
                <div class="control is-expanded">
                    <input class="input" type="text" name="pays" value="{{ value.adresse.adrPays }}" disabled>
                </div>
            </div>
        </div>
        <br>
        {% endif %}
        {% endfor %}
    </div>
</section>
{% endblock %}
